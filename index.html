<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Generador de Boletas</title>
<style>
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f0f2f5; padding: 20px; display: flex; justify-content: center; }
.container { background: white; padding: 25px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); width: 100%; max-width: 500px; }
h2 { color: #1a73e8; text-align: center; margin-top: 0; border-bottom: 2px solid #eee; padding-bottom: 10px; }
label { display: block; margin-top: 10px; font-weight: bold; font-size: 0.85em; color: #555; }
input, select { width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; background-color: #fff; }
button { width: 100%; padding: 12px; margin-top: 20px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 1em; transition: 0.3s; }
.btn-generate { background: #1a73e8; color: white; }
.btn-generate:hover { background: #1557b0; }
.btn-copy { background: #34a853; color: white; display: none; margin-top: 10px; }
#resultado { margin-top: 20px; padding: 15px; background: #fdfdfd; border: 1px solid #ddd; white-space: pre; font-family: 'Courier New', monospace; font-size: 14px; display: none; border-left: 5px solid #1a73e8; }
</style>
</head>
<body>

<div class="container">
<h2>Boleta</h2>
<label>B (NÃºmero de Boleta):</label>
<input type="number" id="numBoleta">

<label>T (TÃ©cnico):</label>
<input type="text" id="tecnico">

<label>O (Operador):</label>
<input type="text" id="operador">

<label>T (Tipo de Trabajo):</label>
<input type="text" id="tipoTrabajo" value="Nueva instalacion">

<label>UP (UbicaciÃ³n GPS):</label>
<input type="text" id="ubicacion" value="Atras del tacometro">

<label>P (PÃ¡nico):</label>
<select id="panico">
<option>No</option>
<option>Si</option>
</select>

<label>A (Apagado):</label>
<select id="apagado">
<option>No</option>
<option>Si. Normal 12V</option>
</select>

<label>PT (Plataforma):</label>
<select id="pt">
<option value="CXPSFLEET">CXPSFLEET</option>
<option value="COMPASSXPS">COMPASSXPS</option>
</select>

<label>RP:</label>
<select id="rp"><option>Si</option><option>No</option></select>
<label>UG:</label>
<select id="ug"><option>Si</option><option>No</option></select>
<label>DP:</label>
<select id="dp"><option>Si</option><option>No</option></select>
<label>IGN:</label>
<select id="ign"><option>Si</option><option>No</option></select>
<label>IC:</label>
<select id="ic"><option>Si</option><option>No</option></select>
<label>CO:</label>
<select id="co"><option>Si</option><option>No</option></select>
<label>M:</label>
<select id="m"><option>No</option><option>Si</option></select>

<label>Topfly?</label>
<select id="topfly">
<option>No</option>
<option>Si</option>
</select>

<label>IDRelay:</label>
<input type="text" id="idrelay" placeholder="Pegue el IDRelay">

<button class="btn-generate" onclick="generar()">GENERAR TEXTO</button>
<div id="resultado"></div>
<button id="btnCopy" class="btn-copy" onclick="copiar()">ðŸ“‹ COPIAR AL PORTAPAPELES</button>
</div>

<script>
function pad(clave, valor) {
    return clave.padEnd(6, ' ') + ': ' + valor;
}

function generar() {
    const ahora = new Date();
    const opcionesFecha = { weekday:'long', year:'numeric', month:'long', day:'numeric'};
    const b = document.getElementById('numBoleta').value;
    const f = ahora.toLocaleDateString('es-ES', opcionesFecha);
    const h = ahora.toLocaleTimeString('es-ES');
    const t = document.getElementById('tecnico').value;
    const o = document.getElementById('operador').value;
    const tt = document.getElementById('tipoTrabajo').value;
    const up = document.getElementById('ubicacion').value;
    const p = document.getElementById('panico').value;
    const a = document.getElementById('apagado').value;
    const pt = document.getElementById('pt').value;
    const rp = document.getElementById('rp').value;
    const ug = document.getElementById('ug').value;
    const dp = document.getElementById('dp').value;
    const ign = document.getElementById('ign').value;
    const ic = document.getElementById('ic').value;
    const co = document.getElementById('co').value;
    const m = document.getElementById('m').value;
    const topfly = document.getElementById('topfly').value;
    const idrelay = document.getElementById('idrelay').value;

    let comandoTopfly = '';
    if(topfly === 'Si' && idrelay){
        const apagado = `1234,${idrelay},0000,123.456.78.9,8027 1#`;
        const encendido = `1234,${idrelay},0000,123.456.78.9,8027 0#`;
        comandoTopfly = '\n' + pad('TOPFLY', idrelay) + '\n' + pad('APAGADO', apagado) + '\n' + pad('ENCENDIDO', encendido);
    }

    const texto = 
        pad('B', b) + '\n' +
        pad('F', f) + '\n' +
        pad('H', h) + '\n' +
        pad('TEC', t) + '\n' +
        pad('O', o) + '\n' +
        pad('TT', tt) + '\n' +
        pad('UP', up) + '\n' +
        pad('P', p) + '\n' +
        pad('A', a) + '\n' +
        pad('PT', pt) + '\n' +
        pad('RP', rp) + '\n' +
        pad('UG', ug) + '\n' +
        pad('DP', dp) + '\n' +
        pad('IGN', ign) + '\n' +
        pad('IC', ic) + '\n' +
        pad('CO', co) + '\n' +
        pad('M', m) +
        comandoTopfly;

    const resDiv = document.getElementById('resultado');
    resDiv.innerText = texto;
    resDiv.style.display = 'block';
    document.getElementById('btnCopy').style.display = 'block';
}

function copiar() {
    const texto = document.getElementById('resultado').innerText;
    navigator.clipboard.writeText(texto).then(() => {
        const btn = document.getElementById('btnCopy');
        btn.innerText = "Â¡COPIADO!";
        setTimeout(()=>{ btn.innerText="ðŸ“‹ COPIAR AL PORTAPAPELES"; },1500);
    });
}
</script>
</body>
</html>










